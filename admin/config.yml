backend:
  name: git-gateway
  branch: main

publish_mode: simple

media_folder: "images/uploads"
public_folder: "/images/uploads"

collections:
  # ==============================
  # HOME PAGE CARDS (brands.json)
  # ==============================
  - name: "home_cards"
    label: "Home Page Cards"
    delete: false
    editor:
      preview: false
    files:
      - name: "brands"
        label: "Brands list (Home cards)"
        file: "data/brands.json"
        format: "json"
        fields:
          - label: "Brands"
            name: "brands"
            widget: "list"
            summary: "{{fields.name}}"
            fields:
              - { label: "ID", name: "id", widget: "string" }
              - { label: "Name", name: "name", widget: "string" }
              - { label: "Puffs", name: "puffs", widget: "string", required: false }
              - { label: "Price Text", name: "priceText", widget: "string", required: false }
              - { label: "Deal Text", name: "dealText", widget: "string", required: false }
              - { label: "Card Image", name: "cardImage", widget: "image", required: false }
              - { label: "Brand File Path", name: "file", widget: "string" }

              # ðŸ”¥ Sorting controls (NO CODE EDITS LATER)
              - { label: "Clearance", name: "clearance", widget: "boolean", default: false }
              - { label: "Sort Price", name: "sortPrice", widget: "number", value_type: "float", required: false }

  # ==================================
  # BRAND MENUS (data/brands/*.json)
  # ==================================
  - name: "brand_files"
    label: "Brand Menus (Flavors)"
    folder: "data/brands"
    create: true
    extension: "json"
    format: "json"
    slug: "{{slug}}"
    editor:
      preview: false
    summary: "{{filename}} â€” {{fields.brand.name}}"
    identifier_field: "brand.name"

    fields:
      - label: "Brand"
        name: "brand"
        widget: "object"
        fields:
          - { label: "Name", name: "name", widget: "string" }
          - { label: "Puffs", name: "puffs", widget: "string", required: false }
          - { label: "Price Text", name: "priceText", widget: "string", required: false }
          - { label: "Deal Text", name: "dealText", widget: "string", required: false }

      - label: "Flavors"
        name: "flavors"
        widget: "list"
        summary: "{{fields.flavor}}"
        fields:
          - { label: "Flavor", name: "flavor", widget: "string" }
          - { label: "Price", name: "price", widget: "number", value_type: "float", required: false }
          - { label: "Image", name: "image", widget: "image", required: false }

          - label: "Tags"
            name: "tags"
            widget: "select"
            multiple: true
            required: false
            options:
              - { label: "NEW", value: "new" }
              - { label: "TRENDING", value: "trending" }

          - { label: "Sold Out", name: "soldOut", widget: "boolean", default: false }
